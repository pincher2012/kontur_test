<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Kontur test</title>
</head>
<body>

<div data-bind="template: { name: 'resultMatrixTemplate', data: resultMatrix }"></div>
<div data-bind="template: { name: 'matrixTemplate', data: firstMatrix }"></div>
<div data-bind="template: { name: 'matrixTemplate', data: secondMatrix }"></div>

<!-- ko foreach: matrices -->
<input type="radio" name="selectedMatrix" data-bind="checkedValue: $data.id, checked: $root.selectedMatrixId" />
<span data-bind="text: title"></span>
<!-- /ko -->

<br />

<button data-bind="click: selectedMatrix().addColumn, enable: selectedMatrix().columns() < 10">Add column</button>
<button data-bind="click: selectedMatrix().removeColumn, enable: selectedMatrix().columns() > 2">Remove column</button>

<br />

<button data-bind="click: selectedMatrix().addRow, enable: selectedMatrix().rows() < 10">Add row</button>
<button data-bind="click: selectedMatrix().removeRow, enable: selectedMatrix().rows() > 2">Remove row</button>

<br />

<button data-bind="click: clear">Clear</button>
<button data-bind="click: swap">Swap</button>
<button data-bind="click: compute">Compute</button>


<script type="text/html" id="matrixTemplate">
  <h2>Matrix has <span data-bind="text: columns"></span> columns and <span data-bind="text: rows"></span> rows</h2>
  <table>
    <tbody data-bind="foreach: data">
    <tr data-bind="foreach: $data.cells">
      <td><input type="text" data-bind="value: $data.value, numeric: $data.value, valueUpdate: ['afterkeydown']" /></td>
    </tr>
    </tbody>
  </table>
</script>

<script type="text/html" id="resultMatrixTemplate">
  <table>
    <tbody data-bind="foreach: $data">
    <tr data-bind="foreach: $data">
      <td data-bind="text: $data"></td>
    </tr>
    </tbody>
  </table>
</script>



<script src="/bower_components/knockout/dist/knockout.js"></script>
<script src="/bower_components/jquery/jquery.js"></script>
<script src="/js/script.js"></script>
</body>
</html>
